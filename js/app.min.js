(()=>{"use strict";const e={};let t=(e,t=500,o=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!o,!o&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!o&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},o=(e,t=500,o=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,o&&e.style.removeProperty("height");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},s=!0,n=(e=500)=>{if(s){const t=document.querySelectorAll("[data-lp]");setTimeout(()=>{t.forEach(e=>{e.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},e),s=!1,setTimeout(function(){s=!0},e)}},i=(e=500)=>{if(s){const t=document.querySelectorAll("[data-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";t.forEach(e=>{e.style.paddingRight=o}),document.body.style.paddingRight=o,document.documentElement.classList.add("lock"),s=!1,setTimeout(function(){s=!0},e)}};function r(e,t){const o=Array.from(e).filter(function(e,o,s){if(e.dataset[t])return e.dataset[t].split(",")[0]});if(o.length){const e=[];o.forEach(o=>{const s={},n=o.dataset[t].split(",");s.value=n[0],s.type=n[1]?n[1].trim():"max",s.item=o,e.push(s)});let s=e.map(function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type});s=function(e){return e.filter(function(e,t,o){return o.indexOf(e)===t})}(s);const n=[];if(s.length)return s.forEach(t=>{const o=t.split(","),s=o[1],i=o[2],r=window.matchMedia(o[0]),l=e.filter(function(e){if(e.value===s&&e.type===i)return!0});n.push({itemsArray:l,matchMedia:r})}),n}}e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:["popup_show","popup_opened"],bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("–ü—Ä–æ—Å–Ω—É–ª—Å—è"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`–ô–æ–π, –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω –∞—Ç—Ä–∏–±—É—Ç –≤ ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this))}open(e){if(s)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}}));const e=this._getClassTokens(this.options.classes.popupActive);e.length&&this.targetOpen.element.classList.add(...e),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&i(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("–û—Ç–∫—Ä—ã–ª –ø–æ–ø–∞–ø")}else this.popupLogging("–ï–π, —Ç–∞–∫–æ–≥–æ –ø–æ–ø–∞ –Ω–µ—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞. ")}close(e){if(e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&s){if(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen&&this.previousOpen.element){const e=this._getClassTokens(this.options.classes.popupActive);e.length&&this.previousOpen.element.classList.remove(...e)}this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&n(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50),this.popupLogging("–ó–∞–∫—Ä—ã–ª –ø–æ–ø–∞–ø")}}_getClassTokens(e){return e?Array.isArray(e)?e:String(e).split(/\s+/).filter(Boolean):[]}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&function(e){setTimeout(()=>{window.FLS&&console.log(e)},0)}(`[–ü–æ–ø–∞–ø–æ—Å]: ${e}`)}}({});let l=!1;setTimeout(()=>{if(l){let e=new Event("windowScroll");window.addEventListener("scroll",function(t){document.dispatchEvent(e)})}},0);let a=document.querySelectorAll(".compare__col"),c=0;function p(e,t){let o;return function(...s){clearTimeout(o),o=setTimeout(()=>e.apply(this,s),t)}}function u(){const e=document.querySelector(".compare__cols"),t=document.querySelector(".compare__btn_prev"),o=document.querySelector(".compare__btn_next");if(!e)return;const s=p(u,200);window.addEventListener("resize",s);const n=a.length,i=302*-c;e.style.transform=`translateX(${i}px)`,t.disabled=0===c,o.disabled=c>=n-4}function d(){const e=window.innerWidth<=768,t=document.querySelector(".compare__col_fixed"),o=document.querySelectorAll(".compare__scroll .compare__col");if(!t||!o.length)return;const s=t.querySelectorAll(".compare__cell");o.forEach(t=>{t.querySelectorAll(".compare__cell").forEach((t,o)=>{if(0===o)return;let n=t.querySelector(".compare__feature");if(e){n||(n=document.createElement("div"),n.className="compare__feature",t.prepend(n));const e=s[o]?.textContent?.trim()||"";n.textContent=e}else n&&n.remove()})})}function h(){const e=document.querySelectorAll(".compare__col_fixed .compare__cell_header, .compare__col .compare__cell_header");if(!e.length)return;e.forEach(e=>e.style.height="auto");let t=0;e.forEach(e=>{const o=e.offsetHeight;o>t&&(t=o)}),e.forEach(e=>e.style.height=t+"px")}function m(e=document){document.querySelectorAll("form").forEach(e=>{e.setAttribute("novalidate","");const t=e.querySelectorAll("input[required]"),o=e.querySelectorAll('input[type="tel"]'),s=e.querySelectorAll('input[type="email"]');function n(e){return/^[\p{L}0-9._%+-]+@[\p{L}0-9.-]+\.[\p{L}]{2,}$/u.test(e)}function i(e){const t=e.closest(".form-faq__item");if(!t)return;const o=t.querySelector(".form-faq__label");o&&!o.dataset.original&&(o.dataset.original=o.textContent,o.textContent="–û—à–∏–±–∫–∞"),t.classList.add("_error")}function r(e){const t=e.closest(".form-faq__item");if(!t)return;const o=t.querySelector(".form-faq__label");t.classList.contains("_error")&&(t.classList.remove("_error"),o&&o.dataset.original&&(o.textContent=o.dataset.original,delete o.dataset.original))}o.forEach(e=>{e.addEventListener("focus",()=>{""===e.value.trim()&&(e.value="+7 ("),r(e)}),e.addEventListener("input",()=>{let t=e.value.replace(/\D/g,"");t.startsWith("8")&&(t="7"+t.slice(1)),t.startsWith("7")||(t="7"+t);let o="+7 (";t.length>1&&(o+=t.substring(1,4)),t.length>=5&&(o+=") "+t.substring(4,7)),t.length>=8&&(o+="-"+t.substring(7,9)),t.length>=10&&(o+="-"+t.substring(9,11)),e.value=o}),e.addEventListener("blur",()=>{e.value.replace(/\D/g,"").length<11&&(e.value="")})}),s.forEach(e=>{e.addEventListener("focus",()=>r(e)),e.addEventListener("blur",()=>{const t=e.value.trim();""===t||n(t)||i(e)})}),e.addEventListener("submit",o=>{o.preventDefault();let s=!1;t.forEach(t=>{const o=t.getAttribute("type"),r=t.value.trim();let l=!1;if("checkbox"===o)t.checked||(l=!0);else if(r)if("tel"===o){r.replace(/\D/g,"").length<11&&(l=!0)}else"email"===o?n(r)||(l=!0):"password"===o&&r.length<6&&(l=!0);else l=!0;l&&(i(t),s=!0);const a=e.querySelectorAll('input[type="password"]');if(2===a.length){const[e,t]=a;e.value.trim()!==t.value.trim()&&(i(t),s=!0)}}),s||e.closest(".form-faq")?.classList.add("form-faq_success-active")}),t.forEach(e=>{e.addEventListener("focus",()=>r(e))})});document.querySelectorAll(".checkbox__hover").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement.querySelector(".checkbox__input");t&&(t.checked=!t.checked,t.dispatchEvent(new Event("change",{bubbles:!0})))})})}async function f(e){const t=document.querySelectorAll(".lk__tabs a"),o=document.querySelector(".lk__content");if(!t.length||!o)return;const s=Array.from(t).find(t=>t.getAttribute("href").endsWith(e));if(s){t.forEach(e=>e.classList.remove("_lk-active")),s.classList.add("_lk-active"),o.classList.add("_loading");try{const e=await fetch(s.getAttribute("href"));if(!e.ok)throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∫–ª–∞–¥–∫–∏");const t=await e.text(),n=(new DOMParser).parseFromString(t,"text/html"),i=n.querySelector(".lk__content")?.innerHTML||"";o.innerHTML=i,o.classList.remove("_loading"),m(o),function(){const e=document.querySelector(".profile__form");if(!e)return;const t=e.querySelector('button[type="submit"]'),o=e.querySelectorAll("input[name]");if(!t||!o.length)return;const s=JSON.parse(localStorage.getItem("profileData")||"{}");o.forEach(e=>{s[e.name]&&s[e.name]!==e.value&&(e.value=s[e.name])});let n=e.querySelector(".form__notify");n||(n=document.createElement("div"),n.className="form__notify",e.appendChild(n)),e.addEventListener("submit",e=>{e.preventDefault();let s=!1;const i={};if(o.forEach(e=>{const t=e.value.trim(),o=e.closest(".form-faq__item")||e.parentElement;o?.classList.remove("_error"),t||(s=!0,o?.classList.add("_error")),i[e.name]=t}),s)return n.textContent="–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è ‚ùó",n.classList.add("_active","_error"),void setTimeout(()=>n.classList.remove("_active","_error"),3e3);t.disabled=!0,t.classList.add("_loading");const r=t.textContent;t.textContent="–°–æ—Ö—Ä–∞–Ω—è–µ–º...",setTimeout(()=>{localStorage.setItem("profileData",JSON.stringify(i)),t.disabled=!1,t.classList.remove("_loading"),t.textContent=r,n.textContent="–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã ‚úÖ",n.classList.remove("_error"),n.classList.add("_active"),setTimeout(()=>{n.classList.remove("_active")},2500)},1500)})}()}catch(e){console.error(e),o.classList.remove("_loading"),o.innerHTML="<p class='lk__error'>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∫–ª–∞–¥–∫—É üòû</p>"}}}function g(){const e=document.querySelectorAll(".lk__tabs a");function t(){if(location.pathname.includes("orders-item.html"))return console.log(location.pathname),t="orders",void e.forEach(e=>{const o=e.getAttribute("href").split("/").pop().replace(".html","");e.classList.toggle("_lk-active",o===t)});var t;const o=location.hash.slice(1)||"lk",s=Array.from(e).find(e=>e.getAttribute("href").includes(o+".html"));if(s){f(s.getAttribute("href"))}else{const t=e[0];if(t){const e=t.getAttribute("href");history.replaceState(null,"","#lk"),f(e)}}}e.length&&(!function(){const e=location.pathname.split("/").pop();if(!location.hash.slice(1)&&e.endsWith(".html")&&"lk.html"!==e){const t=e.replace(".html","");history.replaceState(null,"",`#${t}`)}}(),e.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const s=e.getAttribute("href").split("/").pop().replace(".html","");location.pathname.includes("orders-item.html")?window.location.href=`lk.html#${s}`:(history.pushState(null,"",`#${s}`),t())})}),t(),window.addEventListener("hashchange",t))}document.addEventListener("DOMContentLoaded",()=>{document.documentElement.addEventListener("click",e=>{const t=e.target;if(console.log(t),t.closest(".compare__btn_next")&&c<a.length-4&&(c++,u()),t.closest(".compare__btn_prev")&&c>0&&(c--,u()),t.closest(".compare__close")&&function(e){const t=e.closest(".compare__col");t&&(t.remove(),a=document.querySelectorAll(".compare__col"),c>a.length-4&&(c=Math.max(0,a.length-4)),u())}(t),e.target.closest(".form-faq__close")){const t=e.target.closest(".form-faq");t.classList.remove("form-faq_success-active");t.querySelector(".form-faq__form").reset()}}),u();const e=p(d,100);window.addEventListener("resize",e),window.addEventListener("load",d),d(),m(document);const t=p(h,200);window.addEventListener("resize",t),setTimeout(h,200),window.addEventListener("load",h);document.querySelectorAll(".compare__col img").forEach(e=>{e.addEventListener("load",()=>{t()})}),g(),function(){const e=document.querySelectorAll(".order-lk__price"),t=document.querySelector(".order-lk__digit");if(!e.length||!t)return;let o=0;e.forEach(e=>{const t=e.textContent.replace(/[^\d.,]/g,"").replace(",","."),s=parseFloat(t);isNaN(s)||(o+=s)});const s=o.toLocaleString("ru-RU");t.innerHTML=`${s}¬† ‚ÇΩ`}()}),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){document.addEventListener("click",a);const s=Array.from(e).filter(function(e,t,o){return!e.dataset.spollers.split(",")[0]});s.length&&i(s);let n=r(e,"spollers");function i(e,t=!1){e.forEach(e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),l(e)):(e.classList.remove("_spoller-init"),l(e,!1))})}function l(e,t=!0){let o=e.querySelectorAll("details");o.length&&o.forEach(e=>{let o=e.querySelector("summary");t?(o.removeAttribute("tabindex"),e.hasAttribute("data-open")?(o.classList.add("_spoller-active"),e.open=!0):(e.open=!1,o.nextElementSibling.hidden=!0)):(o.setAttribute("tabindex","-1"),o.classList.remove("_spoller-active"),e.open=!0,o.nextElementSibling.hidden=!1)})}function a(e){const s=e.target;if(s.closest("summary")&&s.closest("[data-spollers]")&&(e.preventDefault(),s.closest("[data-spollers]").classList.contains("_spoller-init"))){const e=s.closest("summary"),n=e.closest("details"),i=e.closest("[data-spollers]"),r=i.hasAttribute("data-one-spoller"),l=n.hasAttribute("data-spoller-scroll"),a=i.dataset.spollersSpeed?parseInt(i.dataset.spollersSpeed):500;if(!i.querySelectorAll("._slide").length&&(r&&!n.open&&c(i),n.open?setTimeout(()=>{n.open=!1},a):n.open=!0,e.classList.toggle("_spoller-active"),((e,s=500)=>{e.hidden?o(e,s):t(e,s)})(e.nextElementSibling,a),l&&e.classList.contains("_spoller-active"))){const e=n.dataset.spollerScroll,t=+e?+e:0,o=n.hasAttribute("data-spoller-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:n.offsetTop-(t+o),behavior:"smooth"})}}if(!s.closest("[data-spollers]")){const e=document.querySelectorAll("[data-spoller-close]");e.length&&e.forEach(e=>{const o=e.closest("[data-spollers]"),s=e.parentNode;if(o.classList.contains("_spoller-init")){const n=o.dataset.spollersSpeed?parseInt(o.dataset.spollersSpeed):500;e.classList.remove("_spoller-active"),t(e.nextElementSibling,n),setTimeout(()=>{s.open=!1},n)}})}}function c(e){const o=e.querySelector("details[open]");if(o&&!e.querySelectorAll("._slide").length){const s=o.querySelector("summary"),n=e.dataset.spollersSpeed?parseInt(e.dataset.spollersSpeed):500;s.classList.remove("_spoller-active"),t(s.nextElementSibling,n),setTimeout(()=>{o.open=!1},n)}}n&&n.length&&n.forEach(e=>{e.matchMedia.addEventListener("change",function(){i(e.itemsArray,e.matchMedia)}),i(e.itemsArray,e.matchMedia)})}}()})();